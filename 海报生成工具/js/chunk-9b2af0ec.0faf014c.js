(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b2af0ec"],{"1fc6":function(t,e,r){"use strict";var i=r("de01"),n=r.n(i);n.a},4008:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"grab"}},[i("label",{staticClass:"upload"},[t._v("\n        请上传商品主图\n        "),i("input",{ref:"mainImg",attrs:{type:"file"},on:{change:function(e){return t.getSrc("mainImg")}}})]),i("label",{staticClass:"upload"},[t._v("\n        请上传商品二维码\n        "),i("input",{ref:"code",attrs:{type:"file"},on:{change:function(e){return t.getSrc("code")}}})]),i("el-form",{ref:"ruleForm",staticClass:"input-wrapper",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"160px"}},[i("el-row",{attrs:{gutter:20}},[i("el-form-item",{attrs:{label:"请输入商品名称",prop:"productName"}},[i("el-col",{attrs:{span:10}},[i("el-input",{model:{value:t.ruleForm.productName,callback:function(e){t.$set(t.ruleForm,"productName",e)},expression:"ruleForm.productName"}})],1),i("el-col",{attrs:{span:10}},[i("div",{staticStyle:{"font-family":"guangbiao"}},[t._v(t._s(this.ruleForm.productName))])])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-form-item",{attrs:{label:"请输入商品卖点",prop:"point"}},[i("el-col",{attrs:{span:10}},[i("el-input",{model:{value:t.ruleForm.point,callback:function(e){t.$set(t.ruleForm,"point",e)},expression:"ruleForm.point"}})],1),i("el-col",{attrs:{span:10}},[i("div",{staticStyle:{"font-family":"guangbiao"}},[t._v(t._s(this.ruleForm.point))])])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-form-item",{attrs:{label:"请输入活动价",prop:"activityPrice"}},[i("el-col",{attrs:{span:10}},[i("el-input",{model:{value:t.ruleForm.activityPrice,callback:function(e){t.$set(t.ruleForm,"activityPrice",e)},expression:"ruleForm.activityPrice"}})],1),i("el-col",{attrs:{span:10}},[i("div",{staticStyle:{"font-family":"IMPACT"}},[t._v(t._s(this.ruleForm.activityPrice))])])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-form-item",{attrs:{label:"请输入市场价",prop:"marketPrice"}},[i("el-col",{attrs:{span:10}},[i("el-input",{model:{value:t.ruleForm.marketPrice,callback:function(e){t.$set(t.ruleForm,"marketPrice",e)},expression:"ruleForm.marketPrice"}})],1),i("el-col",{attrs:{span:10}},[i("div",{staticStyle:{"font-family":"IMPACT"}},[t._v(t._s(this.ruleForm.marketPrice))])])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-form-item",[i("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("生成图片")]),i("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1),i("canvas",{ref:"canvas",attrs:{width:"750",height:"750"}}),i("img",{staticStyle:{display:"none"},attrs:{src:r("49d9"),id:"bgImg"}})],1)},n=[],o={name:"grab",data:function(){return{elInput:null,mainImg:new Image,code:new Image,ruleForm:{productName:"",point:"",marketPrice:"",activityPrice:""},rules:{productName:[{required:!0,message:"请输入商品名称",trigger:"blur"}],point:[{required:!0,message:"请输入商品卖点",trigger:"blur"}],marketPrice:[{required:!0,message:"请输入市场价",trigger:"blur"}],activityPrice:[{required:!0,message:"请输入活动价",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.initDraw()})},resetForm:function(t){this.$refs[t].resetFields()},getUploadEle:function(t){var e=this,r={mainImg:function(){return e.$refs.mainImg},code:function(){return e.$refs.code}};return r[t]()},getImgEle:function(t){var e=this,r={mainImg:function(){return e.mainImg},code:function(){return e.code}};return r[t]()},getSrc:function(t){var e=this.getUploadEle(t),r=this.getImgEle(t),i=new FileReader;i.onload=function(t){var e=t.target.result;r.src=e},e.files&&e.files[0]&&i.readAsDataURL(e.files[0])},initDraw:function(){var t=document.getElementById("bgImg"),e=this.$refs.canvas;this.context=e.getContext("2d"),this.context.drawImage(this.mainImg,8,6,590,610),this.context.drawImage(t,0,0,750,750),this.context.drawImage(this.code,607,534,120,120),this.context.beginPath(),this.context.font="34px guangbiao",this.context.textAlign="center",this.context.fillStyle="#ffffff",this.context.fillText(this.ruleForm.productName,290,720),this.context.beginPath(),this.context.font="28px Microsoft YaHei",this.context.textAlign="center",this.context.fillStyle="#f22157",this.context.fillText(this.ruleForm.point,290,646),this.context.beginPath();var r=this.context.createLinearGradient(0,0,180,0);r.addColorStop(0,"#f90036"),r.addColorStop(.35,"#fb517e"),r.addColorStop(.61,"#f855aa"),r.addColorStop(1,"#f22d87"),this.context.font="76px IMPACT",this.context.textAlign="center",this.context.fillStyle=r,this.context.fillText(this.ruleForm.activityPrice,650,386),this.context.beginPath(),this.context.font="24px guangbiao",this.context.textAlign="center",this.context.fillStyle="#898889",this.context.fillText("市场价：".concat(this.ruleForm.marketPrice),660,430),this.context.beginPath(),this.context.moveTo(586,420),this.context.lineTo(734,420),this.context.closePath(),this.context.lineWidth=3,this.context.strokeStyle="#898889",this.context.stroke()}}},a=o,l=(r("1fc6"),r("2877")),s=Object(l["a"])(a,i,n,!1,null,"158bdb35",null);e["default"]=s.exports},"49d9":function(t,e,r){t.exports=r.p+"img/qiang.eabae8aa.png"},de01:function(t,e,r){}}]);
//# sourceMappingURL=chunk-9b2af0ec.0faf014c.js.map