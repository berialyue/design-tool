{"version":3,"sources":["webpack:///./src/components/manager.vue?b273","webpack:///src/components/manager.vue","webpack:///./src/components/manager.vue?ade9","webpack:///./src/components/manager.vue?67e2","webpack:///./src/assets/img/dianzhang.jpg","webpack:///./src/components/manager.vue?e428"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","ref","on","$event","getSrc","ruleForm","rules","model","value","callback","$$v","$set","expression","staticStyle","_s","storeName","submitForm","resetForm","staticRenderFns","name","data","elInput","code","Image","methods","$refs","formName","validate","valid","resetFields","getUploadEle","uploadRef","ele","getImgEle","upload","reader","onload","img","src","elUpload","files","readAsDataURL","initDraw","$nextTick","component","module","exports"],"mappings":"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","file":"js/chunk-68ee24fd.7404927b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"grab\"}},[_c('label',{staticClass:\"upload\"},[_vm._v(\"\\n        请上传店长二维码\\n        \"),_c('input',{ref:\"code\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.getSrc('code')}}})]),_c('el-form',{ref:\"ruleForm\",staticClass:\"input-wrapper\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"160px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-form-item',{attrs:{\"label\":\"请输入门店名称\",\"prop\":\"storeName\"}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{model:{value:(_vm.ruleForm.storeName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"storeName\", $$v)},expression:\"ruleForm.storeName\"}})],1),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticStyle:{\"font-family\":\"Microsoft YaHei\"}},[_vm._v(_vm._s(this.ruleForm.storeName))])])],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-form-item',[_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"生成图片\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1),_c('canvas',{ref:\"canvas\",attrs:{\"width\":\"750\",\"height\":\"1294\"}}),_c('img',{staticStyle:{\"display\":\"none\"},attrs:{\"src\":require(\"../assets/img/dianzhang.jpg\"),\"id\":\"bgImg\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"grab\">\n    <label class=\"upload\">\n        请上传店长二维码\n        <input type='file' @change=\"getSrc('code')\" ref=\"code\">\n    </label>\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"160px\" class=\"input-wrapper\">\n      <el-row :gutter=\"20\">\n        <el-form-item label=\"请输入门店名称\" prop=\"storeName\">\n          <el-col :span=\"10\"><el-input v-model=\"ruleForm.storeName\"></el-input></el-col>\n          <el-col :span=\"10\"><div style=\"font-family: Microsoft YaHei;\">{{this.ruleForm.storeName}}</div></el-col>\n        </el-form-item>\n      </el-row>\n      <el-row :gutter=\"20\">\n        <el-form-item >\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\" class=\"btn\">生成图片</el-button>\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n        </el-form-item>\n      </el-row>\n    </el-form>\n    <canvas ref=\"canvas\" width=\"750\" height=\"1294\"></canvas>\n    <img src=\"../assets/img/dianzhang.jpg\" id=\"bgImg\" style=\"display:none\">\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'manager',\n  data: function() {\n    return {\n      elInput: null,\n      code: new Image(),\n      ruleForm: {\n        storeName: ''\n      },\n      rules: {\n        storeName: [\n          { required: true, message: '请输入门店名称', trigger: 'blur' }\n        ]\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.initDraw()\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    getUploadEle(ele) {\n      const uploadRef = {\n        'code': () => {\n          return this.$refs.code\n        },\n      };\n      return uploadRef[ele]();\n    },\n    getImgEle(ele) {\n      const upload = {\n        'code': () => {\n          return this.code\n        },\n      };\n      return upload[ele]();\n    },\n    getSrc(ele){\n      const elUpload = this.getUploadEle(ele)\n      const img = this.getImgEle(ele)\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const src = e.target.result;\n        img.src = src;\n      };\n      if (elUpload.files && elUpload.files[0]) {\n        reader.readAsDataURL(elUpload.files[0]);\n      }\n    },\n    initDraw() {\n      // 初始化画布\n      const bgImg = document.getElementById('bgImg')\n      this.$nextTick(() => {\n        const canvas = this.$refs.canvas\n        this.context = canvas.getContext('2d')\n        this.context.drawImage(bgImg, 0, 0, 750, 1294)\n        this.context.drawImage(this.code, 94, 390, 559, 559)\n\n        this.context.beginPath();\n        this.context.font = \"38px Microsoft YaHei\";\n        this.context.textAlign = 'center'\n        this.context.fillStyle = '#e6750d'\n        this.context.fillText(this.ruleForm.storeName, 375, 330);\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n@font-face {\n  font-family: 'guangbiao';\n  src: url('../assets/font/guangbiao.TTF');\n}\n\n@font-face {\n  font-family: 'IMPACT';\n  src: url('../assets/font/IMPACT.TTF');\n}\n\ncanvas { \n  letter-spacing: 2px; \n}\n\n.upload {\n  display: inline-block;\n  margin: 30px;\n}\n\n.btn {\n  margin-left:-160px\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manager.vue?vue&type=template&id=36fe61fc&scoped=true&\"\nimport script from \"./manager.vue?vue&type=script&lang=js&\"\nexport * from \"./manager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./manager.vue?vue&type=style&index=0&id=36fe61fc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36fe61fc\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/dianzhang.0a244bc4.jpg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=style&index=0&id=36fe61fc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=style&index=0&id=36fe61fc&scoped=true&lang=css&\""],"sourceRoot":""}