(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a95195b"],{"4d4e":function(t,e,r){t.exports=r.p+"img/together.b1ed47f9.png"},"8fca":function(t,e,r){"use strict";var i=r("9866"),n=r.n(i);n.a},9866:function(t,e,r){},f7fd:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"grab"}},[i("label",{staticClass:"upload"},[t._v("\n        请上传商品主图\n        "),i("input",{ref:"mainImg",attrs:{type:"file"},on:{change:function(e){return t.getSrc("mainImg")}}})]),i("label",{staticClass:"upload"},[t._v("\n        请上传商品二维码\n        "),i("input",{ref:"code",attrs:{type:"file"},on:{change:function(e){return t.getSrc("code")}}})]),i("el-form",{ref:"ruleForm",staticClass:"input-wrapper",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"180px"}},[i("el-row",{attrs:{gutter:20}},[i("el-form-item",{attrs:{label:"请输入商品名称第一行",prop:"productNameLine1"}},[i("el-col",{attrs:{span:10}},[i("el-input",{model:{value:t.ruleForm.productNameLine1,callback:function(e){t.$set(t.ruleForm,"productNameLine1",e)},expression:"ruleForm.productNameLine1"}})],1),i("el-col",{attrs:{span:10}},[i("div",{staticStyle:{"font-family":"black"}},[t._v(t._s(this.ruleForm.productNameLine1))])])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-form-item",{attrs:{label:"请输入商品名称第二行",prop:"productNameLine2"}},[i("el-col",{attrs:{span:10}},[i("el-input",{model:{value:t.ruleForm.productNameLine2,callback:function(e){t.$set(t.ruleForm,"productNameLine2",e)},expression:"ruleForm.productNameLine2"}})],1),i("el-col",{attrs:{span:10}},[i("div",{staticStyle:{"font-family":"black"}},[t._v(t._s(this.ruleForm.productNameLine2))])])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-form-item",{attrs:{label:"请输入商品卖点",prop:"point"}},[i("el-col",{attrs:{span:10}},[i("el-input",{model:{value:t.ruleForm.point,callback:function(e){t.$set(t.ruleForm,"point",e)},expression:"ruleForm.point"}})],1),i("el-col",{attrs:{span:10}},[i("div",{staticStyle:{"font-family":"black"}},[t._v(t._s(this.ruleForm.point))])])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-form-item",{attrs:{label:"请输入活动价",prop:"activityPrice"}},[i("el-col",{attrs:{span:10}},[i("el-input",{model:{value:t.ruleForm.activityPrice,callback:function(e){t.$set(t.ruleForm,"activityPrice",e)},expression:"ruleForm.activityPrice"}})],1),i("el-col",{attrs:{span:10}},[i("div",{staticStyle:{"font-family":"shuiyun"}},[t._v(t._s(this.ruleForm.activityPrice))])])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-form-item",{attrs:{label:"请输入市场价",prop:"marketPrice"}},[i("el-col",{attrs:{span:10}},[i("el-input",{model:{value:t.ruleForm.marketPrice,callback:function(e){t.$set(t.ruleForm,"marketPrice",e)},expression:"ruleForm.marketPrice"}})],1),i("el-col",{attrs:{span:10}},[i("div",{staticStyle:{"font-family":"shuiyun"}},[t._v(t._s(this.ruleForm.marketPrice))])])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-form-item",[i("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("生成图片")]),i("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1),i("canvas",{ref:"canvas",attrs:{width:"800",height:"1265"}}),i("img",{staticStyle:{display:"none"},attrs:{src:r("4d4e"),id:"bgImg"}})],1)},n=[],o={name:"grab",data:function(){return{elInput:null,mainImg:new Image,code:new Image,ruleForm:{productNameLine1:"",productNameLine2:"",point:"",marketPrice:"",activityPrice:""},rules:{productNameLine1:[{required:!0,message:"请输入商品名称第一行",trigger:"blur"}],productNameLine2:[{required:!0,message:"请输入商品名称第二行",trigger:"blur"}],point:[{required:!0,message:"请输入商品卖点",trigger:"blur"}],marketPrice:[{required:!0,message:"请输入市场价",trigger:"blur"}],activityPrice:[{required:!0,message:"请输入活动价",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.initDraw()})},resetForm:function(t){this.$refs[t].resetFields()},getUploadEle:function(t){var e=this,r={mainImg:function(){return e.$refs.mainImg},code:function(){return e.$refs.code}};return r[t]()},getImgEle:function(t){var e=this,r={mainImg:function(){return e.mainImg},code:function(){return e.code}};return r[t]()},getSrc:function(t){var e=this.getUploadEle(t),r=this.getImgEle(t),i=new FileReader;i.onload=function(t){var e=t.target.result;r.src=e},e.files&&e.files[0]&&i.readAsDataURL(e.files[0])},initDraw:function(){var t=document.getElementById("bgImg"),e=this.$refs.canvas;this.context=e.getContext("2d"),this.context.drawImage(this.mainImg,30,352,461,659),this.context.drawImage(t,0,0,800,1265),this.context.drawImage(this.code,30,1040,168,168),this.context.beginPath(),this.context.font="bold 24px black",this.context.textAlign="start",this.context.fillStyle="#3a3a3a",this.context.fillText(this.ruleForm.productNameLine1,530,443),this.context.beginPath(),this.context.font="bold 24px black",this.context.textAlign="start",this.context.fillStyle="#3a3a3a",this.context.fillText(this.ruleForm.productNameLine2,530,476),this.context.beginPath(),this.context.font="bold 16px black",this.context.textAlign="start",this.context.fillStyle="#808080",this.context.fillText(this.ruleForm.point,530,515),this.context.beginPath(),this.context.font="118px shuiyun",this.context.textAlign="center",this.context.fillStyle="#ed3b1f",this.context.fillText(this.ruleForm.activityPrice,636,714),this.context.beginPath(),this.context.font="32px shuiyun",this.context.textAlign="center",this.context.fillStyle="#ed3b1f",this.context.fillText(this.ruleForm.marketPrice,680,774),this.context.beginPath(),this.context.moveTo(560,764),this.context.lineTo(720,764),this.context.closePath(),this.context.lineWidth=3,this.context.strokeStyle="#ed3b1f",this.context.stroke()}}},l=o,a=(r("8fca"),r("2877")),s=Object(a["a"])(l,i,n,!1,null,"8e6d9942",null);e["default"]=s.exports}}]);
//# sourceMappingURL=chunk-5a95195b.2aa83907.js.map